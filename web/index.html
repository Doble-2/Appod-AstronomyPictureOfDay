<!DOCTYPE html>
<html>
  <head>
    <link
      rel="preload"
      href="/assets/fonts/nasalization%20rg.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />
    <link rel="canonical" href="/" />
    <meta name="theme-color" content="#111111" />
    <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
    <base href="$FLUTTER_BASE_HREF" />

    <meta charset="UTF-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta
      name="description"
      content="APOD no oficial: Explora la Imagen Astronómica del Día de la NASA con traducción, historial y favoritos."
    />
    <meta
      name="keywords"
      content="NASA, APOD, astronomía, espacio, imagen del día, cosmos, telescopio, galaxia, estrellas"
    />
    <meta name="author" content="APPOD" />
    <meta name="robots" content="index,follow" />
    <meta property="og:title" content="APPOD - Astronomy Picture of the Day" />
    <meta
      property="og:description"
      content="Explora y guarda la Imagen Astronómica del Día (APOD) con una experiencia optimizada para web y móvil."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/icons/appod-512.png" />
    <meta property="og:url" content="/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="APPOD - Astronomy Picture of the Day" />
    <meta
      name="twitter:description"
      content="Explora la Imagen Astronómica del Día de la NASA: historial, favoritos y más."
    />
    <meta name="twitter:image" content="/icons/appod-512.png" />

    <!-- iOS meta tags & icons -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta
      name="apple-mobile-web-app-title"
      content="Astro Photography of the Day"
    />
    <link rel="apple-touch-icon" href="icons/appod-192.png" />
    <link rel="preconnect" href="https://api.nasa.gov" crossorigin />
    <link rel="preconnect" href="https://images-api.nasa.gov" crossorigin />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/appod.png" />
    <link rel="icon" type="image/svg+xml" href="/appod.svg" />
    <link rel="alternate" href="/" hreflang="es" />

    <title>APPOD | NASA Astronomy Picture of the Day en Español</title>
    <link rel="manifest" href="manifest.json" />
    <!-- Google Analytics (gTag) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-L3RE329RJF"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-L3RE329RJF", {
        page_path: window.location.pathname,
        page_title: document.title,
      }); // Reemplaza por tu ID real
    </script>
    <style id="splash-screen-style">
      html,
      body {
        height: 100%;
        margin: 0;
      }
      body {
        background: #f5f6fa;
        font-family: "Inter", system-ui, Arial, sans-serif;
      }
      @media (prefers-color-scheme: dark) {
        body {
          background: #0a0e14;
        }
      }
      .splash {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        overflow: hidden;
        background: linear-gradient(135deg, #f5f6fa 0%, #e6e9f0 100%);
      }
      @media (prefers-color-scheme: dark) {
        .splash {
          background: radial-gradient(
            circle at 30% 30%,
            #1a1f2a 0%,
            #0a0e14 70%
          );
        }
      }
      .splash.fade-out {
        opacity: 0;
        transition: opacity 0.45s ease;
      }
      .splash-content {
        width: 100%;
        height: 100%;
        max-width: 720px;
        margin: 0 auto;
        padding: clamp(16px, 3vh, 36px) clamp(20px, 5vw, 48px);
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1.9rem;
        text-align: center;
      }
      .splash-content > * {
        flex-shrink: 0;
      }
      .splash-logo {
        animation: fadeIn 0.5s ease both;
      }
      .splash-content .logo {
        width: min(170px, 42vw);
        height: auto;
        filter: drop-shadow(0 4px 14px rgba(0, 0, 0, 0.35));
        animation: scaleIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      .splash-center {
        animation: fadeIn 0.55s 0.05s ease both;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.9rem;
      }
      .bottom-tagline {
        animation: fadeIn 0.6s 0.1s ease both;
      }
      @media (max-height: 620px) {
        .splash-content {
          padding-top: 24px;
          padding-bottom: 24px;
        }
        .splash-content .logo {
          width: min(160px, 50vw);
        }
        .tagline {
          margin: 1rem 0 0.6rem;
        }
      }
      @media (max-width: 480px) {
        .splash-content {
          padding: 32px 28px;
        }
        .splash-content .logo {
          width: 170px;
        }
      }
      .tagline {
        position: relative;
        margin: 0.4rem 0 0;
        font-size: clamp(0.9rem, 1.35vw, 1.05rem);
        font-weight: 600;
        letter-spacing: 0.6px;
        display: inline-flex;
        align-items: center;
        gap: 0.55rem;
        padding: 0.45rem 0.85rem;
        border-radius: 14px;
        background: linear-gradient(90deg, #3391ff, #00c6b5);
        color: #fff;
        box-shadow: 0 4px 14px -4px rgba(0, 0, 0, 0.35);
      }
      @media (prefers-color-scheme: dark) {
        .tagline {
          box-shadow: 0 4px 18px -4px rgba(0, 0, 0, 0.6);
        }
      }
      .tagline .by-badge {
        font-size: 0.55em;
        letter-spacing: 0.9px;
        text-transform: uppercase;
        font-weight: 700;
        padding: 0.25rem 0.55rem 0.23rem;
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.35);
        border-radius: 999px;
        line-height: 1;
        color: #fff;
      }
      @media (prefers-color-scheme: dark) {
        .tagline .by-badge {
          background: rgba(255, 255, 255, 0.18);
          border-color: rgba(255, 255, 255, 0.4);
        }
      }
      .brand-link {
        position: relative;
        text-decoration: none;
        color: #fff;
        font-weight: 700;
        letter-spacing: 0.4px;
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        transition: opacity 0.35s ease, filter 0.35s ease;
        text-shadow: 0 0 4px rgba(0, 0, 0, 0.35);
      }
      .brand-link:hover {
        opacity: 0.9;
        filter: brightness(1.08);
      }
      .loader {
        width: 54px;
        height: 4px;
        border-radius: 2px;
        background: rgba(0, 0, 0, 0.08);
        margin: 0 auto;
        position: relative;
        overflow: hidden;
      }
      .loader::before {
        content: "";
        position: absolute;
        inset: 0;
        width: 30%;
        background: linear-gradient(90deg, #3391ff, #00c6b5);
        animation: loader 1.1s ease-in-out infinite;
      }
      @media (prefers-color-scheme: dark) {
        .loader {
          background: rgba(255, 255, 255, 0.12);
        }
      }
      @keyframes loader {
        0% {
          transform: translateX(-10%);
        }
        50% {
          transform: translateX(260%);
        }
        100% {
          transform: translateX(-10%);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes scaleIn {
        0% {
          transform: scale(0.88);
          opacity: 0;
        }
        60% {
          transform: scale(1.04);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-6px);
        }
      }
      .no-motion * {
        animation: none !important;
      }
      @media (prefers-reduced-motion: reduce) {
        .splash-content,
        .loader::before {
          animation: none !important;
        }
      }
    </style>
    <script id="splash-screen-script">
      function removeSplashFromWeb() {
        const s = document.getElementById("custom-splash");
        if (!s) return;
        s.classList.add("fade-out");
        setTimeout(() => {
          s.remove();
        }, 480);
      }
      // Fallback si Flutter tarda demasiado
      setTimeout(() => {
        removeSplashFromWeb();
      }, 8000);
    </script>
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
      name="viewport"
    />
  </head>
  <body>
    <div id="custom-splash" class="splash">
      <div class="splash-content">
        <div class="splash-logo">
          <img
            src="assets/Appod.png"
            alt="APPOD"
            class="logo"
            width="170"
            height="170"
            decoding="async"
            fetchpriority="high"
            onerror="this.onerror=null;this.src='/appod.png'"
          />
        </div>
        <div class="splash-center">
          <div class="loader" aria-label="Cargando"></div>
          <h1 class="tagline" aria-label="Autor del proyecto">
            <span class="by-badge">BY</span>
            <a
              href="https://angelcalderon.dev"
              target="_blank"
              rel="noopener"
              class="brand-link"
              >angelcalderon.dev</a
            >
          </h1>
        </div>
      </div>
    </div>
    <script src="flutter_bootstrap.js" async></script>
  </body>
</html>
